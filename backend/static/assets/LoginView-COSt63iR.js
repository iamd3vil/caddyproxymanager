import{d as h,r as b,a as v,c as i,b as e,w as k,e as d,f as w,v as f,n as c,t as p,u as V,o as l,g as B,h as L}from"./index-CRIMLnw7.js";const S={class:"min-h-screen flex items-center justify-center bg-base-200"},q={class:"card w-full max-w-sm bg-base-100 shadow-xl"},C={class:"card-body"},E={class:"form-control"},M=["disabled"],U={key:0,class:"label"},P={class:"label-text-alt text-error"},j={class:"form-control"},z=["disabled"],D={key:0,class:"label"},F={class:"label-text-alt text-error"},N={key:0,class:"alert alert-error"},A={class:"form-control mt-6"},I=["disabled"],R={key:0},T=h({__name:"LoginForm",setup(g){const m=V(),a=b(!1),n=b(""),o=v({username:"",password:""}),r=v({username:"",password:""}),_=()=>{r.username="",r.password="",n.value=""},x=()=>{_();let t=!0;return o.username.trim()||(r.username="Username is required",t=!1),o.password.trim()||(r.password="Password is required",t=!1),t},y=async()=>{if(x()){a.value=!0,_();try{const t=await B.login(o);t.success?m.push("/dashboard"):n.value=t.message||"Login failed"}catch(t){n.value="An error occurred during login",console.error("Login error:",t)}finally{a.value=!1}}};return(t,s)=>(l(),i("div",S,[e("div",q,[e("div",C,[s[5]||(s[5]=e("div",{class:"text-center mb-6"},[e("h1",{class:"text-2xl font-bold"},"Caddy Proxy Manager"),e("p",{class:"text-base-content/60"},"Sign in to continue")],-1)),e("form",{onSubmit:k(y,["prevent"]),class:"space-y-4"},[e("div",E,[s[2]||(s[2]=e("label",{class:"label"},[e("span",{class:"label-text"},"Username")],-1)),w(e("input",{"onUpdate:modelValue":s[0]||(s[0]=u=>o.username=u),type:"text",class:c(["input input-bordered w-full",{"input-error":r.username}]),placeholder:"Enter your username",required:"",disabled:a.value},null,10,M),[[f,o.username]]),r.username?(l(),i("div",U,[e("span",P,p(r.username),1)])):d("",!0)]),e("div",j,[s[3]||(s[3]=e("label",{class:"label"},[e("span",{class:"label-text"},"Password")],-1)),w(e("input",{"onUpdate:modelValue":s[1]||(s[1]=u=>o.password=u),type:"password",class:c(["input input-bordered w-full",{"input-error":r.password}]),placeholder:"Enter your password",required:"",disabled:a.value},null,10,z),[[f,o.password]]),r.password?(l(),i("div",D,[e("span",F,p(r.password),1)])):d("",!0)]),n.value?(l(),i("div",N,[s[4]||(s[4]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,p(n.value),1)])):d("",!0),e("div",A,[e("button",{type:"submit",class:c(["btn btn-primary w-full",{loading:a.value}]),disabled:a.value},[a.value?d("",!0):(l(),i("span",R,"Sign In"))],10,I)])],32)])])]))}}),G=h({__name:"LoginView",setup(g){return(m,a)=>(l(),L(T))}});export{G as default};
